{%- comment -%}
Brand — Presse & Partenaires (logos)
- Grille ou carrousel défilant (simple) selon taille d’écran
- Bloc = logo + lien optionnel + alt
{%- endcomment -%}

<section id="tls3-pl-{{ section.id }}" class="tls3-pl"
  style="--bg: {{ section.settings.bg }}; --fg: {{ section.settings.fg }}; --gap: {{ section.settings.gap }}px;">
  <div class="tls3-pl__wrap">
    {% if section.settings.title != blank %}
      <h2 class="tls3-pl__title">{{ section.settings.title }}</h2>
    {% endif %}

    <div class="tls3-pl__row" aria-label="Logos">
      {% for block in section.blocks %}
        {% if block.type == 'logo' and block.settings.image != blank %}
          <a class="tls3-pl__it" {% if block.settings.url != blank %}href="{{ block.settings.url }}"{% endif %} {{ block.shopify_attributes }} aria-label="{{ block.settings.alt | escape }}">
            {{ block.settings.image | image_url: width: 380 | image_tag: alt: block.settings.alt, loading: 'lazy' }}
          </a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

<style>
#tls3-pl-{{ section.id }}.tls3-pl{background:var(--bg,#fff); color:var(--fg,#0f172a); padding:22px 0}
#tls3-pl-{{ section.id }} .tls3-pl__wrap{max-width:1200px; margin:0 auto; padding:0 16px}
#tls3-pl-{{ section.id }} .tls3-pl__title{margin:0 0 10px; font-size:clamp(16px,2.2vw,22px); font-weight:900; text-align:center; letter-spacing:.2px}
#tls3-pl-{{ section.id }} .tls3-pl__row{display:grid; grid-template-columns:repeat(6,minmax(0,1fr)); gap:var(--gap,14px); align-items:center}
#tls3-pl-{{ section.id }} .tls3-pl__it{display:grid; place-items:center; filter:grayscale(100%); opacity:.78; transition:filter .2s ease, opacity .2s ease, transform .2s ease}
#tls3-pl-{{ section.id }} .tls3-pl__it:hover{filter:grayscale(0%); opacity:1; transform:translateY(-1px)}
#tls3-pl-{{ section.id }} .tls3-pl__it img{max-height:44px; width:auto}
@media (max-width: 900px){ #tls3-pl-{{ section.id }} .tls3-pl__row{grid-template-columns:repeat(3,1fr)} }
@media (max-width: 560px){ #tls3-pl-{{ section.id }} .tls3-pl__row{grid-template-columns:repeat(2,1fr)} }
</style>

{% schema %}
{
  "name": "Brand — Presse & Partenaires",
  "settings": [
    { "type": "text", "id": "title", "label": "Titre", "default": "Ils parlent de nous" },
    { "type": "color", "id": "bg", "label": "Fond", "default": "#ffffff" },
    { "type": "color", "id": "fg", "label": "Texte", "default": "#0f172a" },
    { "type": "number", "id": "gap", "label": "Espace (px)", "default": 14 }
  ],
  "blocks": [
    {
      "type": "logo",
      "name": "Logo",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Logo" },
        { "type": "text", "id": "alt", "label": "Alt", "default": "Logo partenaire" },
        { "type": "url", "id": "url", "label": "Lien (optionnel)" }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [{ "name": "Brand — Presse & Partenaires" }]
}
{% endschema %}
