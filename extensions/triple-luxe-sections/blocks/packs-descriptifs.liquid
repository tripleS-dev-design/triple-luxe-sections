<section class="tls-packs">
  {% if block.settings.title != blank %}<h2 class="tls-packs__title">{{ block.settings.title }}</h2>{% endif %}
  <div class="tls-packs__grid">
    {% for i in (1..3) %}
      {% capture tkey %}pack_{{ i }}_title{% endcapture %}
      {% capture lkey %}pack_{{ i }}_lines{% endcapture %}
      {% assign pt = block.settings[tkey] %}
      {% assign pl = block.settings[lkey] | default: '' %}
      {% if pt != blank or pl != '' %}
        <div class="tls-pack">
          {% if pt != blank %}<h3 class="tls-pack__t">{{ pt }}</h3>{% endif %}
          {% if pl != '' %}
            <ul class="tls-pack__ul">
              {% assign items = pl | newline_to_br | split: '<br />' %}
              {% for line in items %}
                {% assign clean = line | strip %}
                {% if clean != '' %}<li>{{ clean }}</li>{% endif %}
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      {% endif %}
    {% endfor %}
  </div>
</section>

<style>
.tls-packs{ max-width:1200px; margin:0 auto; padding:24px 16px }
.tls-packs__title{ text-align:center; margin:0 0 16px; font-weight:800 }
.tls-packs__grid{ display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)) }
.tls-pack{ border:1px solid #e5e7eb; border-radius:10px; padding:14px; background:#fff }
.tls-pack__t{ margin:0 0 8px; font-weight:700 }
.tls-pack__ul{ margin:0; padding-left:18px }
</style>

{% schema %}
{
  "name": "Packs descriptifs",
  "target": "section",
  "settings": [
    { "type": "text", "id": "title", "label": "Titre", "default": "Nos packs" },

    { "type": "text", "id": "pack_1_title", "label": "Pack 1 — titre", "default": "Starter" },
    { "type": "textarea", "id": "pack_1_lines", "label": "Pack 1 — lignes (1/ligne)" },

    { "type": "text", "id": "pack_2_title", "label": "Pack 2 — titre", "default": "Pro" },
    { "type": "textarea", "id": "pack_2_lines", "label": "Pack 2 — lignes (1/ligne)" },

    { "type": "text", "id": "pack_3_title", "label": "Pack 3 — titre", "default": "Enterprise" },
    { "type": "textarea", "id": "pack_3_lines", "label": "Pack 3 — lignes (1/ligne)" }
  ]
}
{% endschema %}
