<section id="tls-hero-{{ block.id }}" class="tls-hero{% if block.settings.full_bleed %} tls-hero--bleed{% endif %}" style="--h-desktop: {{ block.settings.h_desktop }}vh; --h-mobile: {{ block.settings.h_mobile }}vh;">
  {% if block.settings.image != blank %}
    {{ block.settings.image | image_url: width: 2400 | image_tag: class: 'tls-hero__img', alt: block.settings.title, widths: '1200,1800,2400', sizes: '100vw', loading: 'eager' }}
  {% endif %}
  <div class="tls-hero__cta tls-hero__cta--{{ block.settings.cta_align }}">
    {% if block.settings.title != blank %}<{{ block.settings.title_tag }} class="tls-hero__title">{{ block.settings.title }}</{{ block.settings.title_tag }}>{% endif %}
    {% if block.settings.subtitle != blank %}<p class="tls-hero__subtitle">{{ block.settings.subtitle }}</p>{% endif %}
    {% if block.settings.btn_label != blank and block.settings.btn_url != blank %}<a class="tls-hero__btn" href="{{ block.settings.btn_url }}">{{ block.settings.btn_label }}</a>{% endif %}
  </div>
</section>

<style>
.tls-hero{position:relative;width:100%}
.tls-hero--bleed{position:relative;left:50%;right:50%;margin-left:-50vw;margin-right:-50vw;width:100vw;max-width:100vw}
.tls-hero__img{display:block;width:100%;height:calc(var(--h-desktop,80vh));object-fit:cover}
@media (max-width:999px){.tls-hero__img{height:calc(var(--h-mobile,62vh))}}
.tls-hero__cta{position:absolute;left:clamp(12px,4vw,48px);right:clamp(12px,4vw,48px);bottom:clamp(16px,8vh,72px);color:#fff;text-shadow:0 2px 14px rgba(0,0,0,.5);display:flex;gap:10px;flex-direction:column;align-items:flex-start}
.tls-hero__cta--center{align-items:center;text-align:center}.tls-hero__cta--right{align-items:flex-end;text-align:right}
.tls-hero__title{margin:0;font-weight:800;line-height:1.1;font-size:clamp(26px,5vw,56px)}
.tls-hero__subtitle{margin:0;font-size:clamp(14px,2.2vw,20px)}
.tls-hero__btn{display:inline-block;margin-top:8px;text-decoration:none;font-weight:800;letter-spacing:.2px;background:radial-gradient(120% 120% at 30% 20%,#ff6b6b,#e11d2e);color:#fff;padding:12px 18px;border-radius:12px;box-shadow:0 10px 24px rgba(225,29,46,.35)}
.tls-hero__btn:hover{transform:translateY(-2px)}
</style>

{% schema %}
{
  "name": "Hero Banner (block)",
  "target": "section",
  "settings": [
    { "type": "checkbox", "id": "full_bleed", "label": "Bord à bord (100vw)", "default": true },
    { "type": "image_picker", "id": "image", "label": "Image" },
    { "type": "select", "id": "title_tag", "label": "Niveau du titre", "default": "h2",
      "options": [{"value":"h1","label":"H1"},{"value":"h2","label":"H2"},{"value":"h3","label":"H3"}]
    },
    { "type": "text", "id": "title", "label": "Titre" },
    { "type": "textarea", "id": "subtitle", "label": "Sous-titre" },
    { "type": "text", "id": "btn_label", "label": "Bouton — libellé" },
    { "type": "url",  "id": "btn_url",   "label": "Bouton — URL" },
    { "type": "select", "id": "cta_align", "label": "Alignement", "default": "left",
      "options": [{"value":"left","label":"Gauche"},{"value":"center","label":"Centre"},{"value":"right","label":"Droite"}]
    },
    { "type": "range", "id": "h_desktop", "label": "Hauteur desktop (vh)", "min": 50, "max": 100, "step": 1, "default": 80 },
    { "type": "range", "id": "h_mobile",  "label": "Hauteur mobile (vh)",  "min": 40, "max": 100, "step": 1, "default": 62 }
  ]
}
{% endschema %}
